{"version":3,"file":"admin.min.js","sources":["../../src/js/interface/admin.js"],"sourcesContent":["jQuery(function ($) {\n    'use strict';\n\n    function showPhNotification(options) {\n        const { message, type = 'info', duration = 3000 } = options;\n        const container = $('#ph-reusable-notifications');\n        if (!container.length) {\n            $('body').append('<div id=\"ph-reusable-notifications\"></div>');\n        }\n\n        const notification = $('<div></div>')\n            .addClass(`ph-notification ${type}`)\n            .html(message);\n\n        $('#ph-reusable-notifications').append(notification);\n\n        if (duration > 0) {\n            setTimeout(() => {\n                notification.addClass('fade-out');\n                notification.on('animationend', () => {\n                    notification.remove();\n                });\n            }, duration);\n        }\n\n        return notification;\n    }\n\n\n    if (typeof paghiper_settings === 'undefined') {\n        return;\n    }\n\n    const container = $('#paghiper-due-date-container');\n    if (!container.length) return;\n\n    const modeInput = $('#woocommerce_paghiper_pix_due_date_mode, #woocommerce_paghiper_billet_due_date_mode');\n    const valueInput = $('#woocommerce_paghiper_pix_due_date_value, #woocommerce_paghiper_billet_due_date_value');\n\n    // Move credential actions button\n    const apiKeyRow = $('#woocommerce_paghiper_pix_api_key, #woocommerce_paghiper_billet_api_key');\n    const credentialActionsRow = $('#copy-credentials, #test-credentials');\n    if (apiKeyRow.length && credentialActionsRow.length) {\n        credentialActionsRow.insertAfter(apiKeyRow);\n    }\n\n    // Odometer logic for both PIX and Boleto\n    const modeToggle = $('#due-date-mode-toggle');\n    const daysSection = $('#days-mode-section');\n    const minutesSection = $('#minutes-mode-section');\n\n    $('.mode-switcher.disabled').on('click', function(e) {\n        e.preventDefault();\n        showPhNotification({ message: 'Essa opção está disponível apenas para o PIX PagHiper.', type: 'info' });\n    });\n\n\n    if (paghiper_settings.is_pix) {\n        modeToggle.on('change', function() {\n            const isMinutesMode = $(this).is(':checked');\n            daysSection.toggleClass('active', !isMinutesMode);\n            minutesSection.toggleClass('active', isMinutesMode);\n            modeInput.val(isMinutesMode ? 'minutes' : 'days').trigger('change');\n            updateValue();\n        });\n    } else {\n        daysSection.addClass('active');\n        minutesSection.removeClass('active');\n    modeInput.val('days');\n    }\n\n    $('#mainform').on('submit', function(e) {\n        if (paghiper_settings.is_pix && modeInput.val() === 'minutes') {\n            const totalMinutes = valueInput.val();\n            if (totalMinutes < 5) {\n                if (!confirm(`A(s) transação(ões) gerada(s) vai(vão) expirar em apenas ${totalMinutes} minutos. Continuar?`)) {\n                    e.preventDefault();\n                }\n            }\n        }\n    });\n\n    let chronoOdometers = {};\n    let daysOdometer;\n\n    function updateValue() {\n        if (paghiper_settings.is_pix && modeToggle.is(':checked')) {\n            const days = chronoOdometers.days.value;\n            const hours = chronoOdometers.hours.value;\n            const minutes = chronoOdometers.minutes.value;\n            const totalMinutes = (days * 24 * 60) + (hours * 60) + minutes;\n            valueInput.val(totalMinutes).trigger('change');\n        } else {\n            valueInput.val(daysOdometer.value).trigger('change');\n        }\n    }\n\n    class OdometerDigit {\n        constructor(initialValue) {\n            this.element = $('<div class=\"odometer-digit\"></div>');\n            this.currentValue = parseInt(initialValue, 10);\n            \n            this.rotor = $('<div class=\"odometer-rotor\"></div>');\n            for (let i = 0; i < 10; i++) {\n                this.rotor.append($('<div class=\"odometer-digit-value\"></div>').text(i));\n            }\n            this.rotor.append($('<div class=\"odometer-digit-value\"></div>').text(0));\n\n            this.element.append(this.rotor);\n        }\n\n        initializePosition() {\n            const digitHeight = this.element.height();\n            if (digitHeight === 0) return;\n            this.rotor.css({ transition: 'none', transform: `translateY(-${this.currentValue * digitHeight}px)` });\n        }\n\n        setValue(newValue, direction) {\n            if (newValue === this.currentValue) return;\n            const digitHeight = this.element.height();\n            if (digitHeight === 0) return;\n            const rotor = this.rotor;\n            const isWrappingUp = this.currentValue === 9 && newValue === 0 && direction > 0;\n            const isWrappingDown = this.currentValue === 0 && newValue === 9 && direction < 0;\n\n            if (isWrappingUp) {\n                rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${10 * digitHeight}px)` });\n                setTimeout(() => {\n                    rotor.css({ transition: 'none', transform: 'translateY(0px)' });\n                }, 400);\n            } else if (isWrappingDown) {\n                rotor.css({ transition: 'none', transform: `translateY(-${10 * digitHeight}px)` });\n                setTimeout(() => {\n                    rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${9 * digitHeight}px)` });\n                }, 20);\n            } else {\n                rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${newValue * digitHeight}px)` });\n            }\n            this.currentValue = newValue;\n        }\n    }\n\n    class OdometerDisplay {\n        static LIMITS = {\n            'boleto-days': { min: 1, max: 400, wrap: true },\n            'pix-days':    { min: 0, max: 400,  wrap: true },\n            'hours':       { min: 0, max: 23, wrap: true },\n            'minutes':     { min: 0, max: 59, wrap: true }\n        };\n\n        constructor(element, initialValue, type) {\n            this.container = $(element);\n            this.config = OdometerDisplay.LIMITS[type];\n            this.value = Math.max(this.config.min, Math.min(initialValue, this.config.max));\n            this.digits = [];\n            this.isEditing = false;\n            \n            this.wrapper = $('<div class=\"odometer-display\"></div>');\n            this.container.html(this.wrapper);\n            \n            const minDigits = (this.value >= 100) ? 3 : 2;\n            const valueStr = this.value.toString().padStart(minDigits, '0');\n\n            for (let i = 0; i < valueStr.length; i++) {\n                const digit = new OdometerDigit(valueStr[i]);\n                this.digits.push(digit);\n                this.wrapper.append(digit.element);\n                digit.initializePosition();\n            }\n            if (this.digits.length === 3) {\n                this.wrapper.addClass('has-three-digits');\n            } else {\n                this.wrapper.removeClass('has-three-digits');\n            }\n\n            this.wrapper.on('click', () => {\n                if (!this.isEditing) {\n                    this.showInput();\n                }\n            });\n        }\n\n        showInput() {\n\n            let wrapperWidth = this.wrapper.outerWidth(),\n                wrapperHeight = this.wrapper.outerHeight();\n\n            console.log( wrapperWidth, wrapperHeight );\n\n            this.isEditing = true;\n            this.wrapper.hide();\n            const input = $('<input type=\"number\" class=\"odometer-input\" />');\n            \n            input.css({\n                'min-width': wrapperWidth + 'px',\n                'width': wrapperWidth + 'px',\n                'height': wrapperHeight + 'px',\n                'font-size': '1.8em',\n                'text-align': 'center',\n                'border': '1px solid #999',\n                'background-color': '#fff',\n                'box-sizing': 'border-box',\n                'margin': 0,\n                'padding': 0,\n            });\n\n            input.val(this.value);\n            this.container.append(input);\n            input.focus().select();\n\n            const ghost = $('<span style=\"display:none\"></span>');\n            ghost.css({\n                'font-size': input.css('font-size'),\n                'font-family': input.css('font-family'),\n            });\n            $('body').append(ghost);\n\n            input.on('input', function() {\n                ghost.text($(this).val());\n                $(this).css('width', ghost.width() + 10 + 'px');\n            }).trigger('input');\n\n            const handleInput = () => {\n                let newValue = parseInt(input.val(), 10);\n\n                if (isNaN(newValue)) {\n                    newValue = this.value;\n                } else {\n                    newValue = Math.max(this.config.min, Math.min(newValue, this.config.max));\n                }\n\n                input.remove();\n                this.wrapper.show();\n                this.isEditing = false;\n\n                if (newValue !== this.value) {\n                    const direction = newValue > this.value ? 1 : -1;\n                    this.setValue(newValue, direction);\n                    updateValue();\n                }\n            };\n\n            input.on('blur', handleInput);\n            input.on('keydown', (e) => {\n                if (e.key === 'Enter') {\n                    handleInput();\n                } else if (e.key === 'Escape') {\n                    input.remove();\n                    this.wrapper.show();\n                    this.isEditing = false;\n                }\n            });\n        }\n\n        setValue(newValue, direction) {\n            if (newValue === this.value) return;\n\n            const minDigits = (newValue >= 100) ? 3 : 2;\n            const oldStr = this.value.toString();\n            const newStr = newValue.toString();\n            const oldLen = this.digits.length;\n            const newLen = Math.max(minDigits, newStr.length);\n\n            if (newLen > oldLen) {\n                for (let i = oldLen; i < newLen; i++) {\n                    const digit = new OdometerDigit('0');\n                    this.digits.unshift(digit);\n                    this.wrapper.prepend(digit.element);\n                    digit.initializePosition();\n                }\n            } else if (newLen < oldLen) {\n                for (let i = newLen; i < oldLen; i++) {\n                    this.digits[0].element.remove();\n                    this.digits.shift();\n                }\n            }\n\n            if (newLen === 3) {\n                this.wrapper.addClass('has-three-digits');\n            } else {\n                this.wrapper.removeClass('has-three-digits');\n            }\n\n            const paddedOldStr = oldStr.padStart(this.digits.length, '0');\n            const paddedNewStr = newStr.padStart(this.digits.length, '0');\n\n            for (let i = 0; i < this.digits.length; i++) {\n                const oldDigit = parseInt(paddedOldStr[i], 10);\n                const newDigit = parseInt(paddedNewStr[i], 10);\n                if (oldDigit !== newDigit) {\n                    this.digits[i].setValue(newDigit, direction);\n                }\n            }\n\n            this.value = newValue;\n        }\n\n        increment() {\n            let wrapped = false;\n            let newValue = this.value + 1;\n            if (newValue > this.config.max) {\n                newValue = this.config.wrap ? this.config.min : this.config.max;\n                wrapped = true;\n            }\n            this.setValue(newValue, 1);\n            return wrapped;\n        }\n\n        decrement() {\n            let wrapped = false;\n            let newValue = this.value - 1;\n            if (newValue < this.config.min) {\n                newValue = this.config.max;\n                wrapped = true;\n            }\n            this.setValue(newValue, -1);\n            return wrapped;\n        }\n    }\n\n    // Init Days Odometer\n    const initialDays = paghiper_settings.due_date_mode === 'days' ? parseInt(paghiper_settings.due_date_value, 10) : 1;\n    const odometerType = paghiper_settings.is_pix ? 'pix-days' : 'boleto-days';\n    daysOdometer = new OdometerDisplay(daysSection.find('.days-display'), initialDays, odometerType);\n    daysSection.find('.chevron-control').on('click', function() {\n        if ($('.odometer-input').length) {\n            $('.odometer-input').trigger('blur');\n            return;\n        }\n        const action = $(this).data('action');\n        if (action === 'increment') {\n            daysOdometer.increment();\n        } else {\n            daysOdometer.decrement();\n        }\n        updateValue();\n    });\n\n\n    // Init Minutes Odometer\n    if (paghiper_settings.is_pix) {\n        function initChronoDisplays() {\n            let initialValues = { days: 0, hours: 0, minutes: 30 };\n            if (paghiper_settings.due_date_mode === 'minutes') {\n                const totalMinutes = parseInt(paghiper_settings.due_date_value, 10);\n                if (!isNaN(totalMinutes) && totalMinutes > 0) {\n                    initialValues = {\n                        days: Math.floor(totalMinutes / (24 * 60)),\n                        hours: Math.floor((totalMinutes % (24 * 60)) / 60),\n                        minutes: totalMinutes % 60\n                    };\n                }\n            }\n            chronoOdometers.days = new OdometerDisplay($('#cron-days-pix'), initialValues.days, 'pix-days');\n            chronoOdometers.hours = new OdometerDisplay($('#cron-hours-pix'), initialValues.hours, 'hours');\n            chronoOdometers.minutes = new OdometerDisplay($('#cron-minutes-pix'), initialValues.minutes, 'minutes');\n            updateValue();\n        }\n\n        initChronoDisplays();\n\n        $('#minutes-mode-section .chevron-control').on('click', function() {\n            if ($('.odometer-input').length) {\n                $('.odometer-input').trigger('blur');\n                return;\n            }\n            const $this = $(this);\n            const unit = $this.data('unit');\n            const action = $this.data('action');\n\n            if (action === 'increment') {\n                if (chronoOdometers[unit].increment()) {\n                    if (unit === 'minutes') {\n                        if (chronoOdometers.hours.increment()) {\n                            chronoOdometers.days.increment();\n                        }\n                    } else if (unit === 'hours') {\n                        chronoOdometers.days.increment();\n                    }\n                }\n            } else {\n                if (chronoOdometers[unit].decrement()) {\n                    if (unit === 'minutes') {\n                        if (chronoOdometers.hours.decrement()) {\n                            chronoOdometers.days.decrement();\n                        }\n                    } else if (unit === 'hours') {\n                        chronoOdometers.days.decrement();\n                    }\n                }\n            }\n            updateValue();\n        });\n\n        modeToggle.trigger('change');\n    }\n\n    $('#copy-credentials').on('click', function() {\n\n        let notificationElement = null;\n\n        const loadingSpinner = '<span class=\"ph-notification-spinner\"></span>';\n        notificationElement = showPhNotification({\n            message: `${loadingSpinner} Copiando credenciais...`,\n            type: 'info',\n            duration: 0 // Notificação Fixa\n        });\n\n        $.post(ajaxurl, { action: 'paghiper_copy_credentials', nonce: paghiper_settings.nonce, to: paghiper_settings.gateway_id }, function(response) {\n            if (response.success) {\n\n\n                showPhNotification({ \n                    message: 'Credenciais configuradas com sucesso!', \n                    type: 'success', \n                    duration: 5000 \n                });\n                \n                setTimeout(() => {\n                    location.reload();\n                }, 1000);\n\n            } else {\n                showPhNotification({ message: response.data.message, type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n\n        });\n    });\n\n    $('#test-credentials').on('click', function() {\n        const apiKey = $('#woocommerce_paghiper_pix_api_key, #woocommerce_paghiper_billet_api_key').val();\n        const token = $('#woocommerce_paghiper_pix_token, #woocommerce_paghiper_billet_token').val();\n\n        let notificationElement = null;\n\n        const loadingSpinner = '<span class=\"ph-notification-spinner\"></span>';\n        notificationElement = showPhNotification({\n            message: `${loadingSpinner} Testando credenciais...`,\n            type: 'info',\n            duration: 0 // Notificação Fixa\n        });\n\n        $.post(ajaxurl, { action: 'paghiper_test_credentials', nonce: paghiper_settings.nonce, apiKey: apiKey, token: token }, function(response) {\n            if (response.success) {\n                showPhNotification({ message: response.data.message, type: 'success' });\n            } else {\n                showPhNotification({ message: response.data.message, type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n        }).fail(function(jqXHR, textStatus, errorThrown) {\n            // Handle errors, including 500 Internal Server Error\n            if (jqXHR.status === 500) {\n                showPhNotification({ message: 'Servidor indisponível (erro 500)', type: 'error' });\n                // You can display an error message to the user or log details\n            } else {\n                showPhNotification({ message: 'Não foi possível checar suas credenciais agora.', type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n        });\n    });\n});"],"names":["$","showPhNotification","options","message","type","duration","notification","modeInput","valueInput","apiKeyRow","credentialActionsRow","modeToggle","daysSection","minutesSection","e","isMinutesMode","updateValue","totalMinutes","chronoOdometers","daysOdometer","days","hours","minutes","OdometerDigit","initialValue","i","digitHeight","newValue","direction","rotor","isWrappingUp","isWrappingDown","_OdometerDisplay","element","minDigits","valueStr","digit","wrapperWidth","wrapperHeight","input","ghost","handleInput","oldStr","newStr","oldLen","newLen","paddedOldStr","paddedNewStr","oldDigit","newDigit","wrapped","__publicField","OdometerDisplay","initialDays","odometerType","initChronoDisplays","initialValues","$this","unit","notificationElement","response","apiKey","token","jqXHR","textStatus","errorThrown"],"mappings":"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"}