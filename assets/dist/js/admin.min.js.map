{"version":3,"file":"admin.min.js","sources":["../../src/js/interface/admin.js"],"sourcesContent":["jQuery(function ($) {\n    'use strict';\n\n    function showPhNotification(options) {\n        const { message, type = 'info', duration = 3000 } = options;\n        const container = $('#ph-reusable-notifications');\n        if (!container.length) {\n            $('body').append('<div id=\"ph-reusable-notifications\"></div>');\n        }\n\n        const notification = $('<div></div>')\n            .addClass(`ph-notification ${type}`)\n            .html(message);\n\n        $('#ph-reusable-notifications').append(notification);\n\n        if (duration > 0) {\n            setTimeout(() => {\n                notification.addClass('fade-out');\n                notification.on('animationend', () => {\n                    notification.remove();\n                });\n            }, duration);\n        }\n\n        return notification;\n    }\n\n\n    if (typeof paghiper_settings === 'undefined') {\n        return;\n    }\n\n    const container = $('#paghiper-due-date-container');\n    if (!container.length) return;\n\n    const modeInput = $('#woocommerce_paghiper_pix_due_date_mode, #woocommerce_paghiper_billet_due_date_mode');\n    const valueInput = $('#woocommerce_paghiper_pix_due_date_value, #woocommerce_paghiper_billet_due_date_value');\n\n    // Move credential actions button\n    const apiKeyRow = $('#woocommerce_paghiper_pix_api_key, #woocommerce_paghiper_billet_api_key');\n    const credentialActionsRow = $('#copy-credentials, #test-credentials');\n    if (apiKeyRow.length && credentialActionsRow.length) {\n        credentialActionsRow.insertAfter(apiKeyRow);\n    }\n\n    // Odometer logic for both PIX and Boleto\n    const modeToggle = $('#due-date-mode-toggle');\n    const daysSection = $('#days-mode-section');\n    const minutesSection = $('#minutes-mode-section');\n\n    $('.mode-switcher.disabled').on('click', function(e) {\n        e.preventDefault();\n        showPhNotification({ message: 'Essa opção está disponível apenas para o PIX PagHiper.', type: 'info' });\n    });\n\n\n    if (paghiper_settings.is_pix) {\n        modeToggle.on('change', function() {\n            const isMinutesMode = $(this).is(':checked');\n            daysSection.toggleClass('active', !isMinutesMode);\n            minutesSection.toggleClass('active', isMinutesMode);\n            modeInput.val(isMinutesMode ? 'minutes' : 'days').trigger('change');\n            updateValue();\n        });\n    } else {\n        daysSection.addClass('active');\n        minutesSection.removeClass('active');\n    modeInput.val('days');\n    }\n\n    $('#mainform').on('submit', function(e) {\n        if (paghiper_settings.is_pix && modeInput.val() === 'minutes') {\n            const totalMinutes = valueInput.val();\n            if (totalMinutes < 5) {\n                if (!confirm(`A(s) transação(ões) gerada(s) vai(vão) expirar em apenas ${totalMinutes} minutos. Continuar?`)) {\n                    e.preventDefault();\n                }\n            }\n        }\n    });\n\n    let chronoOdometers = {};\n    let daysOdometer;\n\n    function updateValue() {\n        if (paghiper_settings.is_pix && modeToggle.is(':checked')) {\n            const days = chronoOdometers.days.value;\n            const hours = chronoOdometers.hours.value;\n            const minutes = chronoOdometers.minutes.value;\n            const totalMinutes = (days * 24 * 60) + (hours * 60) + minutes;\n            valueInput.val(totalMinutes).trigger('change');\n        } else {\n            valueInput.val(daysOdometer.value).trigger('change');\n        }\n    }\n\n    class OdometerDigit {\n        constructor(initialValue) {\n            this.element = $('<div class=\"odometer-digit\"></div>');\n            this.currentValue = parseInt(initialValue, 10);\n            \n            this.rotor = $('<div class=\"odometer-rotor\"></div>');\n            for (let i = 0; i < 10; i++) {\n                this.rotor.append($('<div class=\"odometer-digit-value\"></div>').text(i));\n            }\n            this.rotor.append($('<div class=\"odometer-digit-value\"></div>').text(0));\n\n            this.element.append(this.rotor);\n        }\n\n        initializePosition() {\n            const digitHeight = this.element.height();\n            if (digitHeight === 0) return;\n            this.rotor.css({ transition: 'none', transform: `translateY(-${this.currentValue * digitHeight}px)` });\n        }\n\n        setValue(newValue, direction) {\n            if (newValue === this.currentValue) return;\n            const digitHeight = this.element.height();\n            if (digitHeight === 0) return;\n            const rotor = this.rotor;\n            const isWrappingUp = this.currentValue === 9 && newValue === 0 && direction > 0;\n            const isWrappingDown = this.currentValue === 0 && newValue === 9 && direction < 0;\n\n            if (isWrappingUp) {\n                rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${10 * digitHeight}px)` });\n                setTimeout(() => {\n                    rotor.css({ transition: 'none', transform: 'translateY(0px)' });\n                }, 400);\n            } else if (isWrappingDown) {\n                rotor.css({ transition: 'none', transform: `translateY(-${10 * digitHeight}px)` });\n                setTimeout(() => {\n                    rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${9 * digitHeight}px)` });\n                }, 20);\n            } else {\n                rotor.css({ transition: 'transform 0.4s ease-in-out', transform: `translateY(-${newValue * digitHeight}px)` });\n            }\n            this.currentValue = newValue;\n        }\n    }\n\n    class OdometerDisplay {\n        static LIMITS = {\n            'boleto-days': { min: 1, max: 400, wrap: true },\n            'pix-days':    { min: 0, max: 400,  wrap: true },\n            'hours':       { min: 0, max: 23, wrap: true },\n            'minutes':     { min: 0, max: 59, wrap: true }\n        };\n\n        constructor(element, initialValue, type) {\n            this.container = $(element);\n            this.config = OdometerDisplay.LIMITS[type];\n            this.value = Math.max(this.config.min, Math.min(initialValue, this.config.max));\n            this.digits = [];\n            this.isEditing = false;\n            \n            this.wrapper = $('<div class=\"odometer-display\"></div>');\n            this.container.html(this.wrapper);\n            \n            const minDigits = (this.value >= 100) ? 3 : 2;\n            const valueStr = this.value.toString().padStart(minDigits, '0');\n\n            for (let i = 0; i < valueStr.length; i++) {\n                const digit = new OdometerDigit(valueStr[i]);\n                this.digits.push(digit);\n                this.wrapper.append(digit.element);\n                digit.initializePosition();\n            }\n            if (this.digits.length === 3) {\n                this.wrapper.addClass('has-three-digits');\n            } else {\n                this.wrapper.removeClass('has-three-digits');\n            }\n\n            this.wrapper.on('click', () => {\n                if (!this.isEditing) {\n                    this.showInput();\n                }\n            });\n        }\n\n        showInput() {\n\n            let wrapperWidth = this.wrapper.outerWidth(),\n                wrapperHeight = this.wrapper.outerHeight();\n\n            console.log( wrapperWidth, wrapperHeight );\n\n            this.isEditing = true;\n            this.wrapper.hide();\n            const input = $('<input type=\"number\" class=\"odometer-input\" />');\n            \n            input.css({\n                'min-width': wrapperWidth + 'px',\n                'width': wrapperWidth + 'px',\n                'height': wrapperHeight + 'px',\n                'font-size': '1.8em',\n                'text-align': 'center',\n                'border': '1px solid #999',\n                'background-color': '#fff',\n                'box-sizing': 'border-box',\n                'margin': 0,\n                'padding': 0,\n            });\n\n            input.val(this.value);\n            this.container.append(input);\n            input.focus().select();\n\n            const ghost = $('<span style=\"display:none\"></span>');\n            ghost.css({\n                'font-size': input.css('font-size'),\n                'font-family': input.css('font-family'),\n            });\n            $('body').append(ghost);\n\n            input.on('input', function() {\n                ghost.text($(this).val());\n                $(this).css('width', ghost.width() + 10 + 'px');\n            }).trigger('input');\n\n            const handleInput = () => {\n                let newValue = parseInt(input.val(), 10);\n\n                if (isNaN(newValue)) {\n                    newValue = this.value;\n                } else {\n                    newValue = Math.max(this.config.min, Math.min(newValue, this.config.max));\n                }\n\n                input.remove();\n                this.wrapper.show();\n                this.isEditing = false;\n\n                if (newValue !== this.value) {\n                    const direction = newValue > this.value ? 1 : -1;\n                    this.setValue(newValue, direction);\n                    updateValue();\n                }\n            };\n\n            input.on('blur', handleInput);\n            input.on('keydown', (e) => {\n                if (e.key === 'Enter') {\n                    handleInput();\n                } else if (e.key === 'Escape') {\n                    input.remove();\n                    this.wrapper.show();\n                    this.isEditing = false;\n                }\n            });\n        }\n\n        setValue(newValue, direction) {\n            if (newValue === this.value) return;\n\n            const minDigits = (newValue >= 100) ? 3 : 2;\n            const oldStr = this.value.toString();\n            const newStr = newValue.toString();\n            const oldLen = this.digits.length;\n            const newLen = Math.max(minDigits, newStr.length);\n\n            if (newLen > oldLen) {\n                for (let i = oldLen; i < newLen; i++) {\n                    const digit = new OdometerDigit('0');\n                    this.digits.unshift(digit);\n                    this.wrapper.prepend(digit.element);\n                    digit.initializePosition();\n                }\n            } else if (newLen < oldLen) {\n                for (let i = newLen; i < oldLen; i++) {\n                    this.digits[0].element.remove();\n                    this.digits.shift();\n                }\n            }\n\n            if (newLen === 3) {\n                this.wrapper.addClass('has-three-digits');\n            } else {\n                this.wrapper.removeClass('has-three-digits');\n            }\n\n            const paddedOldStr = oldStr.padStart(this.digits.length, '0');\n            const paddedNewStr = newStr.padStart(this.digits.length, '0');\n\n            for (let i = 0; i < this.digits.length; i++) {\n                const oldDigit = parseInt(paddedOldStr[i], 10);\n                const newDigit = parseInt(paddedNewStr[i], 10);\n                if (oldDigit !== newDigit) {\n                    this.digits[i].setValue(newDigit, direction);\n                }\n            }\n\n            this.value = newValue;\n        }\n\n        increment() {\n            let wrapped = false;\n            let newValue = this.value + 1;\n            if (newValue > this.config.max) {\n                newValue = this.config.wrap ? this.config.min : this.config.max;\n                wrapped = true;\n            }\n            this.setValue(newValue, 1);\n            return wrapped;\n        }\n\n        decrement() {\n            let wrapped = false;\n            let newValue = this.value - 1;\n            if (newValue < this.config.min) {\n                newValue = this.config.max;\n                wrapped = true;\n            }\n            this.setValue(newValue, -1);\n            return wrapped;\n        }\n    }\n\n    // Init Days Odometer\n    const initialDays = paghiper_settings.due_date_mode === 'days' ? parseInt(paghiper_settings.due_date_value, 10) : 1;\n    const odometerType = paghiper_settings.is_pix ? 'pix-days' : 'boleto-days';\n    daysOdometer = new OdometerDisplay(daysSection.find('.days-display'), initialDays, odometerType);\n    daysSection.find('.chevron-control').on('click', function() {\n        if ($('.odometer-input').length) {\n            $('.odometer-input').trigger('blur');\n            return;\n        }\n        const action = $(this).data('action');\n        if (action === 'increment') {\n            daysOdometer.increment();\n        } else {\n            daysOdometer.decrement();\n        }\n        updateValue();\n    });\n\n\n    // Init Minutes Odometer\n    if (paghiper_settings.is_pix) {\n        function initChronoDisplays() {\n            let initialValues = { days: 0, hours: 0, minutes: 30 };\n            if (paghiper_settings.due_date_mode === 'minutes') {\n                const totalMinutes = parseInt(paghiper_settings.due_date_value, 10);\n                if (!isNaN(totalMinutes) && totalMinutes > 0) {\n                    initialValues = {\n                        days: Math.floor(totalMinutes / (24 * 60)),\n                        hours: Math.floor((totalMinutes % (24 * 60)) / 60),\n                        minutes: totalMinutes % 60\n                    };\n                }\n            }\n            chronoOdometers.days = new OdometerDisplay($('#cron-days-pix'), initialValues.days, 'pix-days');\n            chronoOdometers.hours = new OdometerDisplay($('#cron-hours-pix'), initialValues.hours, 'hours');\n            chronoOdometers.minutes = new OdometerDisplay($('#cron-minutes-pix'), initialValues.minutes, 'minutes');\n            updateValue();\n        }\n\n        initChronoDisplays();\n\n        $('#minutes-mode-section .chevron-control').on('click', function() {\n            if ($('.odometer-input').length) {\n                $('.odometer-input').trigger('blur');\n                return;\n            }\n            const $this = $(this);\n            const unit = $this.data('unit');\n            const action = $this.data('action');\n\n            if (action === 'increment') {\n                if (chronoOdometers[unit].increment()) {\n                    if (unit === 'minutes') {\n                        if (chronoOdometers.hours.increment()) {\n                            chronoOdometers.days.increment();\n                        }\n                    } else if (unit === 'hours') {\n                        chronoOdometers.days.increment();\n                    }\n                }\n            } else {\n                if (chronoOdometers[unit].decrement()) {\n                    if (unit === 'minutes') {\n                        if (chronoOdometers.hours.decrement()) {\n                            chronoOdometers.days.decrement();\n                        }\n                    } else if (unit === 'hours') {\n                        chronoOdometers.days.decrement();\n                    }\n                }\n            }\n            updateValue();\n        });\n\n        modeToggle.trigger('change');\n    }\n\n    $('#copy-credentials').on('click', function() {\n\n        let notificationElement = null;\n\n        const loadingSpinner = '<span class=\"ph-notification-spinner\"></span>';\n        notificationElement = showPhNotification({\n            message: `${loadingSpinner} Copiando credenciais...`,\n            type: 'info',\n            duration: 0 // Notificação Fixa\n        });\n\n        $.post(ajaxurl, { action: 'paghiper_copy_credentials', nonce: paghiper_settings.nonce, to: paghiper_settings.gateway_id }, function(response) {\n            if (response.success) {\n\n\n                showPhNotification({ \n                    message: 'Credenciais configuradas com sucesso!', \n                    type: 'success', \n                    duration: 5000 \n                });\n                \n                setTimeout(() => {\n                    location.reload();\n                }, 1000);\n\n            } else {\n                showPhNotification({ message: response.data.message, type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n\n        });\n    });\n\n    $('#test-credentials').on('click', function() {\n        const apiKey = $('#woocommerce_paghiper_pix_api_key, #woocommerce_paghiper_billet_api_key').val();\n        const token = $('#woocommerce_paghiper_pix_token, #woocommerce_paghiper_billet_token').val();\n\n        let notificationElement = null;\n\n        const loadingSpinner = '<span class=\"ph-notification-spinner\"></span>';\n        notificationElement = showPhNotification({\n            message: `${loadingSpinner} Testando credenciais...`,\n            type: 'info',\n            duration: 0 // Notificação Fixa\n        });\n\n        $.post(ajaxurl, { action: 'paghiper_test_credentials', nonce: paghiper_settings.nonce, apiKey: apiKey, token: token }, function(response) {\n            if (response.success) {\n                showPhNotification({ message: response.data.message, type: 'success' });\n            } else {\n                showPhNotification({ message: response.data.message, type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n        }).fail(function(jqXHR, textStatus, errorThrown) {\n            // Handle errors, including 500 Internal Server Error\n            if (jqXHR.status === 500) {\n                showPhNotification({ message: 'Servidor indisponível (erro 500)', type: 'error' });\n                // You can display an error message to the user or log details\n            } else {\n                showPhNotification({ message: 'Não foi possível checar suas credenciais agora.', type: 'error' });\n            }\n\n            if (notificationElement) {\n                notificationElement.remove();\n            }\n        });\n    });\n\n    // --- Início da lógica do Downloader de Cronômetros ---\n    const downloader = {\n        form: $('form#mainform'),\n        modal: $('#paghiper-downloader-modal'),\n        progressBar: $('#paghiper-downloader-modal .paghiper-progress'),\n        statusMessage: $('#paghiper-downloader-modal .paghiper-status-message'),\n        initialMessage: $('#paghiper-downloader-modal .paghiper-modal-initial-message'),\n        isDownloading: false,\n\n        init: function() {\n            this.form.on('submit', this.handleSubmit.bind(this));\n        },\n\n        openModal: function() {\n            $('body').css('overflow', 'hidden')\n            this.modal.dialog({\n                modal: true,\n                width: 500,\n                closeOnEscape: false,\n                draggable: false,\n                resizable: false,\n                open: function(event, ui) {\n                    let titlebar        = $(this).parent().find(\".ui-dialog-titlebar\"),\n                        targetContainer = $(this).parent().find(\".paghiper-modal-content\");\n\n                    titlebar.prependTo(targetContainer);\n                    $(this).parent().find('.ui-dialog-titlebar-close').hide();\n                }\n            });\n        },\n\n        closeModal: function() {\n            $('body').css('overflow', '');\n            if (this.modal.is(\":ui-dialog\")) {\n                this.modal.dialog('close');\n            }\n        },\n\n        updateProgress: function(percentage, message) {\n            this.progressBar.css({\n                width: percentage + '%',\n                backgroundColor: '#4CAF50',\n                color: '#fff'\n            }).text(Math.round(percentage) + '%');\n            this.statusMessage.text(message);\n        },\n\n        showError: function(message) {\n            this.isDownloading = false;\n            //this.initialMessage.hide();\n            this.updateProgress(100, 'Erro.');\n            this.progressBar.css('background-color', '#dc3232');\n            this.statusMessage.html(message + '<br/><br/><button class=\"button button-primary\" id=\"close-downloader-modal\">Fechar</button>');\n            $('#close-downloader-modal').on('click', this.closeModal.bind(this));\n        },\n\n        downloadBundle: function(bundleNumber) {\n            return $.post(ajaxurl, {\n                action: 'paghiper_download_timer_assets',\n                nonce: paghiper_settings.nonce,\n                bundle: bundleNumber\n            });\n        },\n\n        downloadSequentially: function(bundles) {\n            // 1. Create ONE deferred object for the whole sequence.\n            const deferred = $.Deferred();\n            const total = bundles.length;\n            let currentIndex = 0;\n\n            // 2. Create a recursive function `next`.\n            const next = () => {\n                // 3. Check for the exit condition.\n                if (currentIndex >= total) {\n                    deferred.resolve(); // If all downloads are done, resolve the main promise.\n                    return;\n                }\n\n                // 4. Get the current bundle and update progress.\n                const bundle = bundles[currentIndex];\n                const percentage = ((currentIndex + 1) / total) * 100;\n                this.updateProgress(percentage, `Baixando pacote ${currentIndex + 1} de ${total}...`);\n\n                // 5. Call the download function for the current bundle.\n                this.downloadBundle(bundle)\n                    .done((response) => {\n                        // 6. Manually check the response for WP-style errors.\n                        if (response.success) {\n                            // If successful, increment index and call next() to download the next bundle.\n                            currentIndex++;\n                            next();\n                        } else {\n                            // If WP returned an error, show it and reject the main promise.\n                            const errorMsg = response.data && response.data.message ? response.data.message : 'Ocorreu um erro no servidor.';\n                            this.showError(errorMsg);\n                            deferred.reject();\n                        }\n                    })\n                    .fail((xhr) => {\n                        // 7. Handle genuine network/server errors.\n                        const errorMsg = 'Falha de comunicação com o servidor. Verifique sua conexão e os logs de erro do PHP.';\n                        this.showError(errorMsg);\n                        deferred.reject(); // Reject the main promise.\n                    });\n            };\n\n            // 8. Start the recursive sequence.\n            next();\n\n            // 9. Return the promise of the main deferred object.\n            return deferred.promise();\n        },\n\n        handleSubmit: function(e) {\n            // Se já estamos no processo de download, não faça nada\n            if (this.isDownloading) {\n                e.preventDefault();\n                return;\n            }\n\n            // Condições para acionar o downloader\n            const isPixPage = paghiper_settings.gateway_id === 'paghiper_pix';\n            const isMinutesMode = $('#due-date-mode-toggle').is(':checked');\n            const isGifDisabled = $('#woocommerce_paghiper_pix_disable_email_gif').is(':checked');\n\n            // Se não for a página do PIX, ou não for modo minutos, ou o GIF estiver desativado, ou o check já passou, deixa salvar normal\n            if (!isPixPage || !isMinutesMode || isGifDisabled || this.form.find('#paghiper_assets_checked').length > 0) {\n                return;\n            }\n\n            e.preventDefault();\n            this.isDownloading = true;\n            this.openModal();\n\n            // Reset modal UI from previous runs\n            this.progressBar.css({\n                width: '100%',\n                backgroundColor: 'transparent',\n                color: '#2c3338'\n            });\n            \n            this.modal.find('.paghiper-modal-initial-message').show();\n            this.updateProgress(0, '');\n\n            const totalMinutes = parseInt(valueInput.val(), 10) || 0;\n            const bundles_needed = Math.ceil(totalMinutes / 60);\n\n            this.updateProgress(0, 'Verificando pacotes necessários...');\n\n            $.post(ajaxurl, {\n                action: 'paghiper_get_timer_asset_status',\n                nonce: paghiper_settings.nonce,\n                bundles_needed: bundles_needed\n            }).done(response => {\n                if (!response.success) {\n                    this.showError(response.data.message);\n                    return;\n                }\n\n                const missing = response.data.missing_bundles;\n                if (missing.length === 0) {\n                    this.updateProgress(100, 'Recursos já estão instalados e verificados!');\n                    setTimeout(() => {\n                        this.isDownloading = false;\n                        this.closeModal();\n                        this.form.append('<input type=\"hidden\" id=\"paghiper_assets_checked\" name=\"paghiper_assets_checked\" value=\"1\">');\n                        console.log('Submitting with due_date_value:', valueInput.val());\n                        this.form.find('button[name=\"save\"]').click();\n                    }, 1500);\n                    return;\n                }\n\n                this.downloadSequentially(missing).done(() => {\n                    this.progressBar.css('background-color', '#4CAF50');\n                    this.updateProgress(100, 'Todos os pacotes foram instalados com sucesso!');\n                    setTimeout(() => {\n                        this.isDownloading = false;\n                        this.closeModal();\n                        this.form.append('<input type=\"hidden\" id=\"paghiper_assets_checked\" name=\"paghiper_assets_checked\" value=\"1\">');\n                        this.form.find('button[name=\"save\"]').click();\n                    }, 1500);\n                }).fail(() => {\n                    // This block catches the rejection from the download chain.\n                    // The error is already displayed by the handler inside downloadSequentially.\n                    // This simply prevents the \"unhandled promise rejection\" error in the console.\n                    console.log(\"Download sequence failed and was caught.\");\n                });\n\n            }).fail((xhr) => {\n                const errorMsg = 'Falha na comunicação com o servidor ao verificar o status dos pacotes. (Status: ' + xhr.status + ' ' + xhr.statusText + '). Verifique os logs do servidor para mais detalhes.';\n                this.showError(errorMsg);\n            });\n        }\n    };\n\n    if (typeof paghiper_settings !== 'undefined' && paghiper_settings.gateway_id === 'paghiper_pix') {\n        downloader.init();\n    }\n    // --- Fim da lógica do Downloader de Cronômetros ---\n\n    window.paghiperDownloader = downloader;\n\n    // --- Início da lógica do Instalador de Versão Beta ---\n    const betaInstaller = {\n        button: $('#paghiper-install-beta'),\n        downloader: downloader, // Reutiliza o modal e os métodos do downloader\n\n        init: function() {\n            if (this.button.length) {\n                this.button.on('click', this.handleInstall.bind(this));\n            }\n        },\n\n        handleInstall: function(e) {\n            e.preventDefault();\n            const version = this.button.data('version');\n\n            this.downloader.isDownloading = true;\n            this.downloader.openModal();\n            this.downloader.updateProgress(0, 'Iniciando instalação da versão ' + version + '...');\n\n            $.post(ajaxurl, {\n                action: 'paghiper_install_beta_version',\n                nonce: paghiper_settings.nonce,\n                version: version\n            }).done(response => {\n                if (response.success) {\n                    this.downloader.updateProgress(100, response.data.message);\n                    setTimeout(() => location.reload(), 2000);\n                } else {\n                    this.downloader.showError(response.data.message || 'Ocorreu um erro desconhecido.');\n                }\n            }).fail(xhr => {\n                const errorMsg = (xhr.responseJSON && xhr.responseJSON.data && xhr.responseJSON.data.message) \n                               ? xhr.responseJSON.data.message \n                               : 'Falha na comunicação com o servidor (Status: ' + xhr.status + '). Verifique os logs.';\n                this.downloader.showError(errorMsg);\n            });\n        }\n    };\n\n    betaInstaller.init();\n    // --- Fim da lógica do Instalador de Versão Beta ---\n});"],"names":["$","showPhNotification","options","message","type","duration","notification","modeInput","valueInput","apiKeyRow","credentialActionsRow","modeToggle","daysSection","minutesSection","e","isMinutesMode","updateValue","totalMinutes","chronoOdometers","daysOdometer","days","hours","minutes","OdometerDigit","initialValue","i","digitHeight","newValue","direction","rotor","isWrappingUp","isWrappingDown","_OdometerDisplay","element","minDigits","valueStr","digit","wrapperWidth","wrapperHeight","input","ghost","handleInput","oldStr","newStr","oldLen","newLen","paddedOldStr","paddedNewStr","oldDigit","newDigit","wrapped","__publicField","OdometerDisplay","initialDays","odometerType","initChronoDisplays","initialValues","$this","unit","notificationElement","response","apiKey","token","jqXHR","textStatus","errorThrown","downloader","event","ui","titlebar","targetContainer","percentage","bundleNumber","bundles","deferred","total","currentIndex","next","bundle","errorMsg","xhr","isPixPage","isGifDisabled","bundles_needed","missing","version"],"mappings":"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"}