(function(){"use strict";const{__:Le}=window.wp.i18n,{useState:j,useEffect:le,useCallback:se}=window.wp.element,ue={style:{base:{iconColor:"#666EE8",color:"#31325F",fontSize:((e,r,l)=>{let n={};if(typeof document=="object"&&typeof document.querySelector=="function"&&typeof window.getComputedStyle=="function"){const u=document.querySelector(e);u&&(n=window.getComputedStyle(u))}return n[r]||l})(".wc-block-checkout","fontSize","16px"),lineHeight:1.375,"::placeholder":{color:"#fff"}}},classes:{focus:"focused",empty:"empty",invalid:"has-error"}},oe=e=>{const[r,l]=j(!1),[n,u]=j(!1),[o,m]=j({...ue,...e}),[v,c]=j("");le(()=>{const a=r?"#CFD7E0":"#fff";m(i=>{let s;return i.showIcon===!1?s={showIcon:!1}:typeof i.showIcon<"u"?s={showIcon:r}:s={},{...i,style:{...i.style,base:{...i.style.base,"::placeholder":{color:a}}},...s}})},[r]);const t=se((a,i)=>{l(a?s=>!s:!0),u(!!i)},[l,u]);return{options:o,isActive:r,isFocus:n,onActive:t,error:v,setError:c}};var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I={},T={},y={};Object.defineProperty(y,"__esModule",{value:!0});class k extends Error{}k.INVALID_DV=new k("Dígito verificador inválido"),k.EMPTY_VALUE=new k("Valor não preenchido"),k.MAX_LEN_EXCEDEED=new k("Número de caracteres excedido"),k.REPEATED_SEQUENCE=new k("Sequência de números repetidos não permitida"),y.default=k;var p={},ce=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p,"__esModule",{value:!0}),p.sumToDV=de,p.checkRepeatedSequence=q,p.sumElementsByMultipliers=fe,p.fakeNumber=me,p.clearValue=$,p.insertAtPosition=H,p.removeFromPosition=ve,p.applyMask=ge,p.randomLetter=_e;const L=ce(y);function de(e){return e%11<2?0:11-e%11}function q(e){return[...e].every(r=>r===e[0])}function fe(e,r){return r.reduce((l,n,u)=>l+n*Number(e[u]),0)}function me(e,r=!1,l=!1){let n;return l?n=Math.round(Math.random()*36**e).toString(36).toLocaleUpperCase():n=Math.floor(Math.random()*10**e).toString(),r?String(n).padStart(e,"0"):String(n)}function $(e,r=null,l){let n=String(e).replace(/([/.-]+)/gi,"");if(l){if(l.rejectEmpty===!0&&n.length===0)throw L.default.EMPTY_VALUE;if(l.rejectHigherLength===!0&&r&&n.length>r)throw L.default.MAX_LEN_EXCEDEED;if(l.rejectEqualSequence===!0&&r&&q(n))throw L.default.REPEATED_SEQUENCE;r&&l.fillZerosAtLeft&&(n=n.padStart(r,"0")),r&&l.trimAtRight&&(n=n.substring(0,r))}return n}function H(e,r,l){return`${e.substring(0,l)}${r}${e.substring(l)}`}function ve(e,r,l){return[e.slice(0,r),e.slice(l)].join("")}function ge(e,r){const l=$(r).length;let n=$(e,l,{fillZerosAtLeft:!0,trimAtRight:!0});const u=["/","-",".","(",")"," "];for(let o=0;o<r.length;o+=1){const m=r[o];u.includes(m)&&(n=H(n,m,o))}return n}function _e(){const e=Math.floor(1+Math.random()*26);return String.fromCharCode(e+64)}(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fake=e.mask=e.validate=e.validateOrFail=e.dv=void 0;const l=r(y),n=p,u=t=>{const a=(0,n.clearValue)(t,9,{trimAtRight:!0,rejectEmpty:!0}),i=(0,n.sumElementsByMultipliers)(a.substring(0,9),[2,3,4,5,6,7,8,9,10]),s=(0,n.sumToDV)(i),d=(0,n.sumElementsByMultipliers)(a.substring(0,9)+s,[3,4,5,6,7,8,9,10,11,2]),g=(0,n.sumToDV)(d);return`${s}${g}`};e.dv=u;const o=t=>{const a=(0,n.clearValue)(t,11,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if((0,e.dv)(a)!==a.substring(9,11))throw l.default.INVALID_DV;return!0};e.validateOrFail=o;const m=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=m;const v=t=>(0,n.applyMask)(t,"000000000-00");e.mask=v;const c=(t=!1)=>{const a=(0,n.fakeNumber)(9,!0),i=`${a}${(0,e.dv)(a)}`;return t?(0,e.mask)(i):i};e.fake=c,e.default=e.validate})(T);var C={},he=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(C,"__esModule",{value:!0}),C.dv=O,C.mask=J,C.fake=ye,C.validateOrFail=U,C.validate=Z;const pe=he(y),M=p;function O(e){const r=(0,M.clearValue)(e,12,{trimAtRight:!0,rejectEmpty:!0}),l=[5,4,3,2,9,8,7,6,5,4,3,2],n=X(r.substring(0,12),l),u=[6,5,4,3,2,9,8,7,6,5,4,3,2],o=X(r.substring(0,12)+n,u);return`${n}${o}`}function J(e){return(0,M.applyMask)(e,"00.000.000/0000-00")}function ye(e=!1){const r=typeof e=="boolean"?{withMask:e,alphanumeric:!0}:{withMask:!1,alphanumeric:!0,...e},l=(0,M.fakeNumber)(12,!0,r.alphanumeric),n=`${l}${O(l)}`;return r.withMask?J(n):n}function U(e){const r=(0,M.clearValue)(e,14,{fillZerosAtLeft:!1,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if(O(r)!==r.substring(12,14))throw pe.default.INVALID_DV;return!0}function Z(e){try{return U(e)}catch{return!1}}C.default=Z;function Ee(e){return/^\d$/.test(e)?+e:e.toLocaleUpperCase().charCodeAt(0)-48}function X(e,r){const l=[...e].map(n=>Ee(n)).reduce((n,u,o)=>n+u*r[o],0);return(0,M.sumToDV)(l)}var W={};(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=t=>{const a=(0,n.clearValue)(t,9,{trimAtRight:!0,rejectEmpty:!0}),i=(0,n.sumElementsByMultipliers)(a,[10,9,8,7,6,5,4,3,2]),s=(0,n.sumToDV)(i),d=(0,n.sumElementsByMultipliers)(a+s,[11,10,9,8,7,6,5,4,3,2]),g=(0,n.sumToDV)(d);return`${s}${g}`};e.dv=u;const o=t=>(0,n.applyMask)(t,"000.000.000-00");e.mask=o;const m=(t=!1)=>{const a=(0,n.fakeNumber)(9,!0),i=`${a}${(0,e.dv)(a)}`;return t?(0,e.mask)(i):i};e.fake=m;const v=t=>{const a=(0,n.clearValue)(t,11,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if((0,e.dv)(a)!==a.substring(9,11))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=c,e.default=e.validate})(W);var z={};(function(e){var r=_&&_.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0,e._getSubCourt=t;const l=r(y),n=p,u=a=>{const i=(0,n.clearValue)(a,18,{trimAtRight:!0,rejectEmpty:!0}),s=i.substring(0,7),d=i.substring(7,14),g=i.substring(14,18);return String(98-+`${+`${Number(s)%97}${d}`%97}${g}00`%97).padStart(2,"0")};e.dv=u;const o=a=>(0,n.applyMask)(a,"0000000-00.0000.0.00.0000");e.mask=o;const m=(a=!1)=>{const i=(0,n.fakeNumber)(7,!0),s=new Date().getFullYear()-+(0,n.fakeNumber)(1);let d=(0,n.fakeNumber)(1,!0);d=d==="0"?"1":d;const g=t(),b=`${d}${g}`,E=(0,n.fakeNumber)(4,!0),w=`${i}${s}${b}${E}`,P=(0,e.dv)(w),f=(0,n.insertAtPosition)(w,P,7);return a?(0,e.mask)(f):f};e.fake=m;const v=a=>{const i=(0,n.clearValue)(a,20,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0}),s=(0,n.removeFromPosition)(i,7,9);if(s.substring(11,12)==="0")throw new Error('Código do Órgão Judiciário não pode ser "0"');if((0,e.dv)(s)!==i.substring(7,9))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=a=>{try{return(0,e.validateOrFail)(a)}catch{return!1}};e.validate=c;function t(a=void 0){return a=a??(0,n.fakeNumber)(2,!0).toString(),+a==0?"01":a}e.default=e.validate})(z);var Q={};(function(e){var r=_&&_.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=a=>{const s=(0,n.clearValue)(a,15,{rejectEmpty:!0,trimAtRight:!0}).split("").reverse().join(""),d=(0,n.sumElementsByMultipliers)(s,[...Array(15)].map((w,P)=>P+2)),g=t(d),b=(0,n.sumElementsByMultipliers)(g+s,[...Array(16)].map((w,P)=>P+2)),E=t(b);return`${g}${E}`};e.dv=u;const o=a=>(0,n.applyMask)(a,"00000.000000/0000-00");e.mask=o;const m=(a=!1)=>{const i=(0,n.fakeNumber)(15,!0),s=`${i}${(0,e.dv)(String(i))}`;return a?(0,e.mask)(s):s};e.fake=m;const v=a=>{const i=(0,n.clearValue)(a,17,{rejectEmpty:!0,rejectHigherLength:!0});if((0,e.dv)(i)!==i.substring(15,17))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=a=>{try{return(0,e.validateOrFail)(a)}catch{return!1}};e.validate=c,e.default=e.validate;function t(a){const i=11-a%11,d=[{rest:11,dv:1},{rest:10,dv:0}].find(g=>g.rest===i);return d?d.dv:i}})(Q);var Y={};(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=t=>{const a=(0,n.clearValue)(t,10,{trimAtRight:!0,rejectEmpty:!0}),i=(0,n.sumElementsByMultipliers)(a,[3,2,9,8,7,6,5,4,3,2]);return String((0,n.sumToDV)(i))};e.dv=u;const o=t=>(0,n.applyMask)(t,"000.00000.00-0");e.mask=o;const m=(t=!1)=>{const a=(0,n.fakeNumber)(10,!0),i=`${a}${(0,e.dv)(a)}`;return t?(0,e.mask)(i):i};e.fake=m;const v=t=>{const a=(0,n.clearValue)(t,11,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if((0,e.dv)(a)!==a.substring(10,11))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=c,e.default=e.validate})(Y);var G={};(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=t=>{if(!t)throw l.default.EMPTY_VALUE;const a=String(t).replace(/[^0-9]+/gi,"").padStart(8,"0").substring(0,8),s=(0,n.sumElementsByMultipliers)(a,[8,6,4,2,3,5,9,7])%11,g=[{rest:0,dv:5},{rest:1,dv:0}].find(E=>E.rest===s),b=g?g.dv:11-s;return String(b)};e.dv=u;const o=t=>String(t).toLocaleUpperCase();e.mask=o;const m=(t=!1)=>{const a=(0,n.fakeNumber)(8,!0),i=`${(0,n.randomLetter)()}${(0,n.randomLetter)()}${a}${(0,e.dv)(a)}BR`;return t?(0,e.mask)(i):i};e.fake=m;const v=t=>{if(!/^[a-z]{2}([\d]{9})[a-z]{2}$/gi.test(String(t)))throw new Error('O número não está no formato "XX000000000XX"');const a=(0,n.clearValue)(t.substring(2,11),9);if((0,e.dv)(t.substring(2,11))!==a.substring(8,9))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=c,e.default=e.validate})(G);var K={};(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=t=>{const a=(0,n.clearValue)(t,10,{fillZerosAtLeft:!0,trimAtRight:!0,rejectEmpty:!0}),i=(0,n.sumElementsByMultipliers)(a,[3,2,9,8,7,6,5,4,3,2])*10;return`${i%11>=10?0:i%11}`};e.dv=u;const o=t=>(0,n.applyMask)(t,"0000000000-0");e.mask=o;const m=(t=!1)=>{const a=(0,n.fakeNumber)(10,!0),i=`${a}${(0,e.dv)(a)}`;return t?(0,e.mask)(i):i};e.fake=m;const v=t=>{const a=(0,n.clearValue)(t,11,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if((0,e.dv)(a)!==a.substring(10,11))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=c,e.default=e.validate})(K);var x={};(function(e){var r=_&&_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.validate=e.validateOrFail=e.fake=e.mask=e.dv=void 0;const l=r(y),n=p,u=t=>{const a=(0,n.clearValue)(t,10,{fillZerosAtLeft:!0,trimAtRight:!0,rejectEmpty:!0}),i=(0,n.sumElementsByMultipliers)(a.substring(0,8),[2,3,4,5,6,7,8,9]),s=i%11>=10?0:i%11,d=(0,n.sumElementsByMultipliers)(a.substring(8,10)+s,[7,8,9]),g=d%11>=10?0:d%11;return`${s}${g}`};e.dv=u;const o=t=>(0,n.applyMask)(t,"0000.0000.0000");e.mask=o;const m=(t=!1)=>{const a=(0,n.fakeNumber)(8,!0),i=(Math.random()*27+1).toFixed(0).padStart(2,"0"),s=`${a}${i}${(0,e.dv)(a+i)}`;return t?(0,e.mask)(s):s};e.fake=m;const v=t=>{const a=(0,n.clearValue)(t,12,{fillZerosAtLeft:!0,rejectEmpty:!0,rejectHigherLength:!0,rejectEqualSequence:!0});if((0,e.dv)(a)!==a.substring(10,12))throw l.default.INVALID_DV;return!0};e.validateOrFail=v;const c=t=>{try{return(0,e.validateOrFail)(t)}catch{return!1}};e.validate=c,e.default=e.validate})(x),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNUP17=e.isTituloEleitor=e.isRenavam=e.isPostalCode=e.isPIS=e.isJudicialProcess=e.isCPF=e.isCNPJ=e.isCNH=void 0;const r=T,l=C,n=W,u=z,o=Q,m=Y,v=G,c=K,t=x,a=f=>(0,r.validate)(f);e.isCNH=a;const i=f=>(0,l.validate)(f);e.isCNPJ=i;const s=f=>(0,n.validate)(f);e.isCPF=s;const d=f=>(0,u.validate)(f);e.isJudicialProcess=d;const g=f=>(0,m.validate)(f);e.isPIS=g;const b=f=>(0,v.validate)(f);e.isPostalCode=b;const E=f=>(0,c.validate)(f);e.isRenavam=E;const w=f=>(0,t.validate)(f);e.isTituloEleitor=w;const P=f=>(0,o.validate)(f);e.isNUP17=P,e.default={isCNH:e.isCNH,isCNPJ:e.isCNPJ,isCPF:e.isCPF,isJudicialProcess:e.isJudicialProcess,isPIS:e.isPIS,isPostalCode:e.isPostalCode,isRenavam:e.isRenavam,isTituloEleitor:e.isTituloEleitor,isNUP17:e.isNUP17}}(I);const{__:D}=window.wp.i18n,{useState:V,useEffect:R}=window.wp.element,ke="wc-block-gateway-input paghiper_tax_id p-Input-input Input p-Input-input--textRight",be=({inputErrorComponent:e,onChange:r,gatewayName:l,value:n,errorMessage:u})=>{const[o,m]=V(!0),[v,c]=V(!1),[t,a]=V(!1),[i,s]=V(D("CPF do Pagador","woo-boleto-paghiper")),[d,g]=V(n||""),{isActive:b,isFocus:E,onActive:w,error:P,setError:f}=oe({hideIcon:!0});R(()=>{n!==void 0&&n!==d&&g(n)},[n]),R(()=>{u&&(f(u),c(!0))},[u]);const Ne=h=>{h.error?f(h.error.message):f(""),m(h.empty),r(h),h.target.value||m(!0)};R(()=>{const h=d.replace(/\D/g,"");c(!1),a(!1),f(""),h.length>11?s(D("CNPJ do Pagador","woo-boleto-paghiper")):s(D("CPF do Pagador","woo-boleto-paghiper")),!o&&h.length>0?h.length===11?I.isCPF(h)?a(!0):(f(D("O número do seu CPF não está correto.","woo-boleto-paghiper")),c(!0)):h.length===14?I.isCNPJ(h)?a(!0):(f(D("O número do seu CNPJ não está correto.","woo-boleto-paghiper")),c(!0)):E||(h.length>11&&h.length<14?(f(D("O número do seu CNPJ está incompleto.","woo-boleto-paghiper")),c(!0)):h.length<11&&(f(D("O número do seu CPF está incompleto.","woo-boleto-paghiper")),c(!0))):(c(!1),a(!1))},[d,E,o]);const ie=(h,Se)=>h.replace(/\D/g,"").length>11?"00.000.000/0000-00":"000.000.000-009";return R(()=>{typeof jQuery(".paghiper_tax_id").mask=="function"?jQuery(".paghiper_tax_id").mask(ie,{onKeyPress:function(h,Se,Fe,Ie){Fe.mask(ie.apply({},arguments),Ie)}}):console.log("Paghiper block failed to initialize TaxID mask")},[]),React.createElement(React.Fragment,null,React.createElement("div",{className:"wc-block-components-form"},React.createElement("div",{className:"wc-block-gateway-container wc-block-components-text-input wc-inline-tax-id-element paghiper-taxid-fieldset"+(b||!o?" is-active":"")},React.createElement("input",{type:"text",id:"wc-paghiper-inline-tax-id-element",name:"_"+l+"_cpf_cnpj",className:ke+(o?" empty Input--empty":"")+(v?" invalid":"")+(t?" valid":""),onBlur:()=>w(o,!1),onFocus:()=>w(o,!0),onChange:Ne,onInput:h=>g(h.target.value),"aria-label":i,value:d,required:!0,title:!0}),React.createElement("label",{htmlFor:"wc-paghiper-inline-tax-id-element"},i),React.createElement(e,{errorMessage:P}))))},{__:A}=window.wp.i18n,{useState:ee,useEffect:we}=window.wp.element,{decodeEntities:B}=window.wp.htmlEntities,{registerPaymentMethod:te}=window.wc.wcBlocksRegistry,{ValidationInputError:Pe}=window.wc.blocksCheckout,{getSetting:ae}=window.wc.wcSettings,N=ae("paghiper_pix_data",{}),Ce=A("PIX Paghiper","woo-boleto-paghiper"),ne=B(N.title)||Ce,S=e=>{if(typeof wc>"u"||!wc.wcBlocksRegistry)return console.error("WooCommerce Blocks registry not found. Make sure WooCommerce Blocks is active and loaded."),null;if(typeof wc>"u"||!wc.blocksCheckout)return console.error("WooCommerce Blocks Checkout not found. Make sure WooCommerce Blocks is active and loaded."),null;const{eventRegistration:r,emitResponse:l}=e,{onPaymentSetup:n}=r,[u,o]=ee(""),[m,v]=ee("");we(()=>{const t=n(async()=>{const a=u,i=a.length>=11,s="_"+e.gatewayName+"_cpf_cnpj";if(i)return{type:l.responseTypes.SUCCESS,meta:{paymentMethodData:{[s]:a}}};console.log(`Paghiper TaxID snatched: ${a}`),console.log(`paghiperTaxIdIsValid returned: ${i}`);const d=A("O CPF/CNPJ informado é inválido.","woo-boleto-paghiper");return v(d),{type:l.responseTypes.ERROR,message:d}});return()=>{t()}},[u,l.responseTypes.ERROR,l.responseTypes.SUCCESS,n,e.gatewayName]);const c=t=>{t.error&&console.log("Paghiper: Payment Error"),v("");const a=t.target?t.target.value:t;o(a.replace(/\D/g,""))};return React.createElement(React.Fragment,null,B(e.gatewayDescription||""),React.createElement(be,{gatewayName:e.gatewayName,value:u,onChange:c,errorMessage:m,inputErrorComponent:Pe}))},De=e=>{const{PaymentMethodLabel:r}=e.components;return React.createElement(r,{text:ne})},Me={name:"paghiper_pix",label:React.createElement(De,null),content:React.createElement(S,{gatewayName:"paghiper_pix",gatewayDescription:N.description}),edit:React.createElement(S,{gatewayName:"paghiper_pix",gatewayDescription:N.description}),canMakePayment:()=>!0,ariaLabel:ne,paymentMethodId:"paghiper_pix",supports:{features:N.supports}},F=ae("paghiper_billet_data",{}),Ve=A("Boleto Paghiper","woo-boleto-paghiper"),re=B(F.title)||Ve,je=e=>{const{PaymentMethodLabel:r}=e.components;return React.createElement(r,{text:re})},Re={name:"paghiper_billet",label:React.createElement(je,null),content:React.createElement(S,{gatewayName:"paghiper_billet",gatewayDescription:F.description}),edit:React.createElement(S,{gatewayName:"paghiper_billet",gatewayDescription:F.description}),canMakePayment:()=>!0,ariaLabel:re,supports:{features:F.supports}};typeof window.wc.wcBlocksRegistry<"u"&&(te(Me),te(Re))})();
