{"version":3,"file":"frontend.min.js","sources":["../../src/js/interface/frontend.js"],"sourcesContent":["jQuery( document ).ready(function($) {\n\n\t// Masking function for out TaxID field\n\tif(typeof $('.paghiper_tax_id').mask === \"function\") {\n\n\t\tfunction initializeMask() {\n\t\t\tvar taxIdMaskBehavior = function (val) {\n\t\t\t\treturn val.replace(/\\D/g, '').length > 11 ? '00.000.000/0000-00' : '000.000.000-009';\n\t\t\t}\n\t\n\t\t\t$('.paghiper_tax_id').mask(taxIdMaskBehavior, {\n\t\t\t\tclearIfNotMatch: true,\n\t\t\t\tplaceholder: \"___.___.___-__\",\n\t\t\t\tonKeyPress: function(val, e, field, options) {\n\t\t\t\t\tfield.mask(taxIdMaskBehavior.apply({}, arguments), options);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$( document.body ).on('updated_checkout', function (event) {\n\t\t\tinitializeMask();\n\t\t});\n\n\t\tinitializeMask();\n\t}\n\n\t// Fallback for when AJAX cart update is not available.\n\t$( document.body ).on('updated_checkout', function (event) {\n\t\tcheckForTaxIdFields()\n\t});\n\n\tcheckForTaxIdFields();\n\n});\n\nfunction checkForTaxIdFields() {\n\n\tlet otherTaxIdFields \t\t= document.querySelectorAll('[name=\"billing_cpf\"], [name=\"billing_cnpj\"]'),\n\t\totherPayerNameFields \t= document.querySelectorAll('[name=\"billing_first_name\"], [name=\"billing_company\"]');\n\n\tlet paghiperFieldsetContainers = document.querySelectorAll('.wc-paghiper-form');\n\n\t[].forEach.call(paghiperFieldsetContainers, (paghiperFieldsetContainer) => {\n\n\t\tlet ownTaxIdField \t\t= paghiperFieldsetContainer.querySelector('.paghiper-taxid-fieldset'),\n\t\t\townPayerNameField \t= paghiperFieldsetContainer.querySelector('.paghiper-payername-fieldset');\n\n\t\tlet hasTaxField = false,\n\t\t\thasPayerNameField = false;\n\n\t\t\tif(ownTaxIdField) {\n\t\t\t\tif(otherTaxIdFields.length > 0) {\n\t\t\t\t\townTaxIdField.classList.add('paghiper-hidden');\n\t\t\t\t} else {\n\t\t\t\t\townTaxIdField.classList.remove('paghiper-hidden');\t\n\t\t\t\t\thasTaxField = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(ownPayerNameField) {\n\t\t\t\tif(otherPayerNameFields.length > 0) {\n\t\t\t\t\townPayerNameField.classList.add('paghiper-hidden');\n\t\t\t\t} else {\n\t\t\t\t\townPayerNameField.classList.remove('paghiper-hidden');\n\t\t\t\t\thasPayerNameField = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\tif(!hasTaxField && !hasPayerNameField) {\n\t\t\tpaghiperFieldsetContainer.classList.add('paghiper-hidden');\n\t\t} else {\n\t\t\tpaghiperFieldsetContainer.classList.remove('paghiper-hidden');\n\t\t}\n\t});\n\n}\n\nwindow.copyPaghiperEmv = function() {\n\t// Start with objects to be selected\n\tlet paghiperEmvBlock \t= document.querySelector('.paghiper-pix-code');\n\tlet targetPixCode \t\t= paghiperEmvBlock.querySelector('textarea');\n\tlet targetButton \t\t= paghiperEmvBlock.querySelector('button');\n\n\t// Select the text field\n\ttargetPixCode.select();\n\ttargetPixCode.setSelectionRange(0, 99999); /* For mobile devices */\n  \n\t// Copy the text inside the text field\n\tnavigator.clipboard.writeText(targetPixCode.value);\n\n\t// Store selection range insie button dataset\n\ttargetButton.dataset.originalText = targetButton.innerHTML;\n\ttargetButton.innerHTML = 'Copiado!';\n\n\tsetTimeout(function(targetButton) {\n\t\t// Restore original text from dataset store value\n\t\tlet originalText = targetButton.dataset.originalText;\n\t\ttargetButton.innerHTML = originalText;\n\n\t\t// Remove selection range\n\t\tdocument.getSelection().removeAllRanges();\n\t}, 2000, targetButton,);\n};"],"names":["$","initializeMask","taxIdMaskBehavior","val","e","field","options","event","checkForTaxIdFields","otherTaxIdFields","otherPayerNameFields","paghiperFieldsetContainers","paghiperFieldsetContainer","ownTaxIdField","ownPayerNameField","hasTaxField","hasPayerNameField","paghiperEmvBlock","targetPixCode","targetButton","originalText"],"mappings":"AAAA,OAAQ,QAAQ,EAAG,MAAM,SAASA,EAAG,CAGpC,GAAG,OAAOA,EAAE,kBAAkB,EAAE,MAAS,WAAY,CAEpD,IAASC,EAAT,UAA0B,CACzB,IAAIC,EAAoB,SAAUC,EAAK,CACtC,OAAOA,EAAI,QAAQ,MAAO,EAAE,EAAE,OAAS,GAAK,qBAAuB,iBACpE,EAEAH,EAAE,kBAAkB,EAAE,KAAKE,EAAmB,CAC7C,gBAAiB,GACjB,YAAa,iBACb,WAAY,SAASC,EAAKC,EAAGC,EAAOC,EAAS,CAC5CD,EAAM,KAAKH,EAAkB,MAAM,CAAA,EAAI,SAAS,EAAGI,CAAO,CAC3D,CACJ,CAAI,CACF,EAZS,IAAAL,IAcTD,EAAG,SAAS,IAAI,EAAG,GAAG,mBAAoB,SAAUO,EAAO,CAC1DN,EAAc,CACf,CAAC,EAEDA,EAAc,CACf,CAGAD,EAAG,SAAS,IAAI,EAAG,GAAG,mBAAoB,SAAUO,EAAO,CAC1DC,EAAmB,CACpB,CAAC,EAEDA,EAAmB,CAEpB,CAAC,EAED,SAASA,GAAsB,CAE9B,IAAIC,EAAqB,SAAS,iBAAiB,6CAA6C,EAC/FC,EAAwB,SAAS,iBAAiB,uDAAuD,EAEtGC,EAA6B,SAAS,iBAAiB,mBAAmB,EAE9E,CAAA,EAAG,QAAQ,KAAKA,EAA6BC,GAA8B,CAE1E,IAAIC,EAAkBD,EAA0B,cAAc,0BAA0B,EACvFE,EAAqBF,EAA0B,cAAc,8BAA8B,EAExFG,EAAc,GACjBC,EAAoB,GAEjBH,IACCJ,EAAiB,OAAS,EAC5BI,EAAc,UAAU,IAAI,iBAAiB,GAE7CA,EAAc,UAAU,OAAO,iBAAiB,EAChDE,EAAc,KAIbD,IACCJ,EAAqB,OAAS,EAChCI,EAAkB,UAAU,IAAI,iBAAiB,GAEjDA,EAAkB,UAAU,OAAO,iBAAiB,EACpDE,EAAoB,KAIpB,CAACD,GAAe,CAACC,EACnBJ,EAA0B,UAAU,IAAI,iBAAiB,EAEzDA,EAA0B,UAAU,OAAO,iBAAiB,CAE9D,CAAC,CAEF,CAEA,OAAO,gBAAkB,UAAW,CAEnC,IAAIK,EAAoB,SAAS,cAAc,oBAAoB,EAC/DC,EAAkBD,EAAiB,cAAc,UAAU,EAC3DE,EAAiBF,EAAiB,cAAc,QAAQ,EAG5DC,EAAc,OAAM,EACpBA,EAAc,kBAAkB,EAAG,KAAK,EAGxC,UAAU,UAAU,UAAUA,EAAc,KAAK,EAGjDC,EAAa,QAAQ,aAAeA,EAAa,UACjDA,EAAa,UAAY,WAEzB,WAAW,SAASA,EAAc,CAEjC,IAAIC,EAAeD,EAAa,QAAQ,aACxCA,EAAa,UAAYC,EAGzB,SAAS,aAAY,EAAG,gBAAe,CACxC,EAAG,IAAMD,CAAY,CACtB"}