{"version":3,"file":"frontend.min.js","sources":["../../src/js/interface/frontend.js"],"sourcesContent":["jQuery( document ).ready(function($) {\n\n\t// Masking function for out TaxID field\n\tif(typeof $('.paghiper_tax_id').mask === \"function\") {\n\n\t\tfunction initializeMask() {\n\t\t\tvar taxIdMaskBehavior = function (val) {\n\t\t\t\treturn val.replace(/\\D/g, '').length > 11 ? '00.000.000/0000-00' : '000.000.000-009';\n\t\t\t}\n\t\n\t\t\t$('.paghiper_tax_id').mask(taxIdMaskBehavior, {\n\t\t\t\tclearIfNotMatch: true,\n\t\t\t\tplaceholder: \"___.___.___-__\",\n\t\t\t\tonKeyPress: function(val, e, field, options) {\n\t\t\t\t\tfield.mask(taxIdMaskBehavior.apply({}, arguments), options);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$( document.body ).on('updated_checkout', function (event) {\n\t\t\tinitializeMask();\n\t\t});\n\n\t\tinitializeMask();\n\t}\n\n\t// Fallback for when AJAX cart update is not available.\n\t$( document.body ).on('updated_checkout', function (event) {\n\t\tcheckForTaxIdFields()\n\t});\n\n\tcheckForTaxIdFields();\n\n});\n\nfunction checkForTaxIdFields() {\n\n\tlet otherTaxIdFields \t\t= document.querySelectorAll('[name=\"billing_cpf\"], [name=\"billing_cnpj\"]'),\n\t\totherPayerNameFields \t= document.querySelectorAll('[name=\"billing_first_name\"], [name=\"billing_company\"]');\n\n\tlet paghiperFieldsetContainers = document.querySelectorAll('.wc-paghiper-form');\n\n\t[].forEach.call(paghiperFieldsetContainers, (paghiperFieldsetContainer) => {\n\n\t\tlet ownTaxIdField \t\t= paghiperFieldsetContainer.querySelector('.paghiper-taxid-fieldset'),\n\t\t\townPayerNameField \t= paghiperFieldsetContainer.querySelector('.paghiper-payername-fieldset');\n\n\t\tlet hasTaxField = false,\n\t\t\thasPayerNameField = false;\n\n\t\t\tif(ownTaxIdField) {\n\t\t\t\tif(otherTaxIdFields.length > 0) {\n\t\t\t\t\townTaxIdField.classList.add('paghiper-hidden');\n\t\t\t\t} else {\n\t\t\t\t\townTaxIdField.classList.remove('paghiper-hidden');\t\n\t\t\t\t\thasTaxField = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(ownPayerNameField) {\n\t\t\t\tif(otherPayerNameFields.length > 0) {\n\t\t\t\t\townPayerNameField.classList.add('paghiper-hidden');\n\t\t\t\t} else {\n\t\t\t\t\townPayerNameField.classList.remove('paghiper-hidden');\n\t\t\t\t\thasPayerNameField = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\tif(!hasTaxField && !hasPayerNameField) {\n\t\t\tpaghiperFieldsetContainer.classList.add('paghiper-hidden');\n\t\t} else {\n\t\t\tpaghiperFieldsetContainer.classList.remove('paghiper-hidden');\n\t\t}\n\t});\n\n}\n\nwindow.copyPaghiperEmv = function() {\n\t// Start with objects to be selected\n\tlet paghiperEmvBlock \t= document.querySelector('.paghiper-pix-code');\n\tlet targetPixCode \t\t= paghiperEmvBlock.querySelector('textarea');\n\tlet targetButton \t\t= paghiperEmvBlock.querySelector('button');\n\n\t// Select the text field\n\ttargetPixCode.select();\n\ttargetPixCode.setSelectionRange(0, 99999); /* For mobile devices */\n  \n\t// Copy the text inside the text field\n\tnavigator.clipboard.writeText(targetPixCode.value);\n\n\t// Store selection range insie button dataset\n\ttargetButton.dataset.originalText = targetButton.innerHTML;\n\ttargetButton.innerHTML = 'Copiado!';\n\n\tsetTimeout(function(targetButton) {\n\t\t// Restore original text from dataset store value\n\t\tlet originalText = targetButton.dataset.originalText;\n\t\ttargetButton.innerHTML = originalText;\n\n\t\t// Remove selection range\n\t\tdocument.getSelection().removeAllRanges();\n\t}, 2000, targetButton,);\n};"],"names":["initializeMask","targetButton"],"mappings":"AAAA,OAAQ,QAAQ,EAAG,MAAM,SAAS,GAAG;AAGpC,MAAG,OAAO,EAAE,kBAAkB,EAAE,SAAS,YAAY;AAEpD,QAASA,kBAAT,WAA0B;AACzB,UAAI,oBAAoB,SAAU,KAAK;AACtC,eAAO,IAAI,QAAQ,OAAO,EAAE,EAAE,SAAS,KAAK,uBAAuB;AAAA,MACpE;AAEA,QAAE,kBAAkB,EAAE,KAAK,mBAAmB;AAAA,QAC7C,iBAAiB;AAAA,QACjB,aAAa;AAAA,QACb,YAAY,SAAS,KAAK,GAAG,OAAO,SAAS;AAC5C,gBAAM,KAAK,kBAAkB,MAAM,CAAA,GAAI,SAAS,GAAG,OAAO;AAAA,QAC3D;AAAA,MACJ,CAAI;AAAA,IACF;AAZS,yBAAAA;AAcT,MAAG,SAAS,IAAI,EAAG,GAAG,oBAAoB,SAAU,OAAO;AAC1D,MAAAA,gBAAc;AAAA,IACf,CAAC;AAED,IAAAA,gBAAc;AAAA,EACf;AAGA,IAAG,SAAS,IAAI,EAAG,GAAG,oBAAoB,SAAU,OAAO;AAC1D,wBAAmB;AAAA,EACpB,CAAC;AAED,sBAAmB;AAEpB,CAAC;AAED,SAAS,sBAAsB;AAE9B,MAAI,mBAAqB,SAAS,iBAAiB,6CAA6C,GAC/F,uBAAwB,SAAS,iBAAiB,uDAAuD;AAE1G,MAAI,6BAA6B,SAAS,iBAAiB,mBAAmB;AAE9E,GAAA,EAAG,QAAQ,KAAK,4BAA4B,CAAC,8BAA8B;AAE1E,QAAI,gBAAkB,0BAA0B,cAAc,0BAA0B,GACvF,oBAAqB,0BAA0B,cAAc,8BAA8B;AAE5F,QAAI,cAAc,OACjB,oBAAoB;AAEpB,QAAG,eAAe;AACjB,UAAG,iBAAiB,SAAS,GAAG;AAC/B,sBAAc,UAAU,IAAI,iBAAiB;AAAA,MAC9C,OAAO;AACN,sBAAc,UAAU,OAAO,iBAAiB;AAChD,sBAAc;AAAA,MACf;AAAA,IACD;AAEA,QAAG,mBAAmB;AACrB,UAAG,qBAAqB,SAAS,GAAG;AACnC,0BAAkB,UAAU,IAAI,iBAAiB;AAAA,MAClD,OAAO;AACN,0BAAkB,UAAU,OAAO,iBAAiB;AACpD,4BAAoB;AAAA,MACrB;AAAA,IACD;AAED,QAAG,CAAC,eAAe,CAAC,mBAAmB;AACtC,gCAA0B,UAAU,IAAI,iBAAiB;AAAA,IAC1D,OAAO;AACN,gCAA0B,UAAU,OAAO,iBAAiB;AAAA,IAC7D;AAAA,EACD,CAAC;AAEF;AAEA,OAAO,kBAAkB,WAAW;AAEnC,MAAI,mBAAoB,SAAS,cAAc,oBAAoB;AACnE,MAAI,gBAAkB,iBAAiB,cAAc,UAAU;AAC/D,MAAI,eAAiB,iBAAiB,cAAc,QAAQ;AAG5D,gBAAc,OAAM;AACpB,gBAAc,kBAAkB,GAAG,KAAK;AAGxC,YAAU,UAAU,UAAU,cAAc,KAAK;AAGjD,eAAa,QAAQ,eAAe,aAAa;AACjD,eAAa,YAAY;AAEzB,aAAW,SAASC,eAAc;AAEjC,QAAI,eAAeA,cAAa,QAAQ;AACxC,IAAAA,cAAa,YAAY;AAGzB,aAAS,aAAY,EAAG,gBAAe;AAAA,EACxC,GAAG,KAAM,YAAY;AACtB;"}