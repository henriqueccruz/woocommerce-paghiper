(function(){var C=Object.defineProperty;var Y=(e,c,u)=>c in e?C(e,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[c]=u;var M=(e,c,u)=>Y(e,typeof c!="symbol"?c+"":c,u);jQuery(function(e){if(typeof paghiper_settings>"u")return;const c=e("#paghiper-due-date-container");if(!c.length)return;const u=e("#woocommerce_paghiper_pix_due_date_mode, #woocommerce_paghiper_billet_due_date_mode"),v=e("#woocommerce_paghiper_pix_due_date_value, #woocommerce_paghiper_billet_due_date_value");if(paghiper_settings.is_pix){let x=function(){const a=r.days;a.value===a.config.max&&(r.hours.value!==0&&r.hours.setValue(0,-1),r.minutes.value!==0&&r.minutes.setValue(0,-1))},p=function(){if(m.is(":checked")){const a=r.days.value,t=r.hours.value,i=r.minutes.value,s=a*24*60+t*60+i;v.val(s).trigger("change")}else v.val(w.value).trigger("change")},S=function(){let a={days:0,hours:0,minutes:30};if(paghiper_settings.due_date_mode==="minutes"){const t=parseInt(paghiper_settings.due_date_value,10);!isNaN(t)&&t>0&&(a={days:Math.floor(t/(24*60)),hours:Math.floor(t%(24*60)/60),minutes:t%60})}r.days=new g(e("#cron-days-pix"),a.days,"pix-days"),r.hours=new g(e("#cron-hours-pix"),a.hours,"hours"),r.minutes=new g(e("#cron-minutes-pix"),a.minutes,"minutes"),p()};var D=x,N=p,T=S;const m=e("#due-date-mode-toggle"),_=e("#days-mode-section"),V=e("#minutes-mode-section");m.on("change",function(){const a=e(this).is(":checked");_.toggleClass("active",!a),V.toggleClass("active",a),u.val(a?"minutes":"days").trigger("change"),p()});let r={},w;class I{constructor(t){this.element=e('<div class="odometer-digit"></div>'),this.currentValue=parseInt(t,10),this.rotor=e('<div class="odometer-rotor"></div>');for(let i=0;i<10;i++)this.rotor.append(e('<div class="odometer-digit-value"></div>').text(i));this.rotor.append(e('<div class="odometer-digit-value"></div>').text(0)),this.element.append(this.rotor)}initializePosition(){const t=this.element.height();t!==0&&this.rotor.css({transition:"none",transform:`translateY(-${this.currentValue*t}px)`})}setValue(t,i){if(t===this.currentValue)return;const s=this.element.height();if(s===0)return;const o=this.rotor,l=this.currentValue===9&&t===0&&i>0,n=this.currentValue===0&&t===9&&i<0;l?(o.css({transition:"transform 0.4s ease-in-out"}),o.css({transform:`translateY(-${10*s}px)`}),setTimeout(()=>{o.css({transition:"none",transform:"translateY(0px)"})},400)):n?(o.css({transition:"none",transform:`translateY(-${10*s}px)`}),setTimeout(()=>{o.css({transition:"transform 0.4s ease-in-out"}),o.css({transform:`translateY(-${9*s}px)`})},20)):(o.css({transition:"transform 0.4s ease-in-out"}),o.css({transform:`translateY(-${t*s}px)`})),this.currentValue=t}}const y=class y{constructor(t,i,s){this.container=e(t),this.config=y.LIMITS[s],this.value=Math.max(this.config.min,Math.min(i,this.config.max)),this.digits=[],this.isEditing=!1,this.wrapper=e('<div class="odometer-display">'),this.container.html(this.wrapper);const o=this.value>=100?3:2,l=this.value.toString().padStart(o,"0");for(let n=0;n<l.length;n++){const h=new I(l[n]);this.digits.push(h),this.wrapper.append(h.element),h.initializePosition()}this.digits.length===3?this.wrapper.addClass("has-three-digits"):this.wrapper.removeClass("has-three-digits"),this.wrapper.on("click",()=>{this.isEditing||this.showInput()})}showInput(){let t=this.wrapper.outerWidth(),i=this.wrapper.outerHeight();this.isEditing=!0,this.wrapper.hide();const s=e('<input type="number" class="odometer-input" />');s.css({width:t+"px",height:i+"px","font-size":"1.8em","text-align":"center",border:"1px solid #999","background-color":"#fff","box-sizing":"border-box",margin:0,padding:0}),s.val(this.value),this.container.append(s),s.focus().select();const o=e('<span style="display:none"></span>');o.css({"font-size":s.css("font-size"),"font-family":s.css("font-family")}),e("body").append(o),s.on("input",function(){o.text(e(this).val()),e(this).css("width",o.width()+10+"px")}).trigger("input");const l=()=>{let n=parseInt(s.val(),10);if(isNaN(n)?n=this.value:n=Math.max(this.config.min,Math.min(n,this.config.max)),s.remove(),this.wrapper.show(),this.isEditing=!1,n!==this.value){const h=n>this.value?1:-1;this.setValue(n,h),x(),p()}};s.on("blur",l),s.on("keydown",n=>{n.key==="Enter"?l():n.key==="Escape"&&(s.remove(),this.wrapper.show(),this.isEditing=!1)})}setValue(t,i){if(t===this.value)return;const s=t>=100?3:2,o=this.value.toString(),l=t.toString(),n=this.digits.length,h=Math.max(s,l.length);if(h>n)for(let d=n;d<h;d++){const f=new I("0");this.digits.unshift(f),this.wrapper.prepend(f.element),f.initializePosition()}else if(h<n)for(let d=h;d<n;d++)this.digits[0].element.remove(),this.digits.shift();h===3?this.wrapper.addClass("has-three-digits"):this.wrapper.removeClass("has-three-digits");const z=o.padStart(this.digits.length,"0"),E=l.padStart(this.digits.length,"0");for(let d=0;d<this.digits.length;d++){const f=parseInt(z[d],10),b=parseInt(E[d],10);f!==b&&this.digits[d].setValue(b,i)}this.value=t}increment(){let t=!1,i=this.value+1;return i>this.config.max&&(this.config.wrap?(i=this.config.min,t=!0):i=this.config.max),this.setValue(i,1),t}decrement(){let t=!1,i=this.value-1;return i<this.config.min&&this.config.wrap&&(i=this.config.max,t=!0),this.setValue(i,-1),t}};M(y,"LIMITS",{"pix-days":{min:0,max:400,wrap:!0},hours:{min:0,max:23,wrap:!0},minutes:{min:0,max:59,wrap:!0}});let g=y;const k=paghiper_settings.due_date_mode==="days"?parseInt(paghiper_settings.due_date_value,10):1;w=new g(_.find(".days-display"),k,"pix-days"),_.find(".chevron-control").on("click",function(){if(e(".odometer-input").length){e(".odometer-input").trigger("blur");return}e(this).data("action")==="increment"?w.increment():w.decrement(),x(),p()}),S(),e("#minutes-mode-section .chevron-control").on("click",function(){if(e(".odometer-input").length){e(".odometer-input").trigger("blur");return}const a=e(this),t=a.data("unit");a.data("action")==="increment"?r[t].increment()&&(t==="minutes"?r.hours.increment()&&r.days.increment():t==="hours"&&r.days.increment()):r[t].decrement()&&(t==="minutes"?r.hours.decrement()&&r.days.decrement():t==="hours"&&r.days.decrement()),x(),p()}),m.trigger("change")}else{const m=e('<input type="number" class="input-text regular-input" />').attr("name",v.attr("name")).attr("id",v.attr("id")).val(paghiper_settings.due_date_value);c.find("#days-mode-section").html(m),u.val("days")}});
//# sourceMappingURL=admin.min.js.map
})();