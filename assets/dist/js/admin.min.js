(function(){jQuery(function(s){if(!s("#paghiper-due-date-container").length)return;const v=s("#due-date-mode-toggle"),h=s("#days-mode-section"),y=s("#minutes-mode-section");class _{constructor(t,e=!1){this.element=s('<div class="odometer-digit">'),this.innerElement=s('<div class="odometer-digit-inner">'),this.currentValue=parseInt(t,10),this.isLast=e,this.element.append(this.innerElement),this.updateDisplay()}updateDisplay(){this.innerElement.html(`
                <span class="odometer-digit-value">${this.currentValue}</span>
                <span class="odometer-digit-value">${this.getNextValue(1)}</span>
                <span class="odometer-digit-value">${this.getNextValue(-1)}</span>
            `)}getNextValue(t){if(this.isLast){let e=this.currentValue+t;return e>9&&(e=0),e<0&&(e=9),e}return this.currentValue}setValue(t,e){if(t===this.currentValue)return!1;const a=e>0?"rolling-up":"rolling-down";return this.element.addClass(a),setTimeout(()=>{this.currentValue=t,this.updateDisplay(),this.element.removeClass(a)},200),!0}}class l{constructor(t,e,a=99){this.container=s(t),this.maxValue=a,this.value=e,this.digits=[],this.wrapper=s('<div class="odometer-display">'),this.container.html(this.wrapper);const o=this.value.toString().padStart(2,"0");for(let n=0;n<o.length;n++){const d=new _(o[n],n===o.length-1);this.digits.push(d),this.wrapper.append(d.element)}}setValue(t,e=!0){if(t===this.value)return;t=Math.max(0,Math.min(t,this.maxValue));const a=this.value.toString().padStart(2,"0"),o=t.toString().padStart(2,"0");for(let n=0;n<this.digits.length;n++){const d=parseInt(a[n],10),f=parseInt(o[n],10);if(d!==f){const V=t>this.value?1:-1;this.digits[n].setValue(f,V)}}this.value=t}}const m=s("#woocommerce_paghiper_pix_due_date_mode"),c=s("#woocommerce_paghiper_pix_due_date_value");v.on("change",function(){const i=s(this).is(":checked");h.toggleClass("active",!i),y.toggleClass("active",i),m.val(i?"minutes":"days").trigger("change")}).trigger("change");const D=paghiper_settings.due_date_mode==="days"?parseInt(paghiper_settings.due_date_value,10):3,p=new l(h.find(".days-display"),D,3);h.find(".chevron-control").on("click",function(){const i=s(this).data("action")==="increment"?1:-1,t=Math.max(1,Math.min(3,p.value+i));t!==p.value&&(p.setValue(t),c.val(t).trigger("change"))});let r={days:null,hours:null,minutes:null};const u={days:3,hours:23,minutes:59};function g(){const i=r.days.value,t=r.hours.value,e=r.minutes.value,a=i*24*60+t*60+e;c.val(a).trigger("change")}function M(){let i={days:0,hours:0,minutes:30};if(paghiper_settings.due_date_mode==="minutes"){const t=parseInt(paghiper_settings.due_date_value,10);!isNaN(t)&&t>0&&(i={days:Math.floor(t/(24*60)),hours:Math.floor(t%(24*60)/60),minutes:t%60})}r.days=new l(s("#cron-days"),i.days,u.days),r.hours=new l(s("#cron-hours"),i.hours,u.hours),r.minutes=new l(s("#cron-minutes"),i.minutes,u.minutes),g()}M(),s("#minutes-mode-section .chevron-control").on("click",function(){const i=s(this),t=i.closest(".time-unit");let e;t.find("#cron-days").length?e="days":t.find("#cron-hours").length?e="hours":e="minutes";const o=i.data("action")==="increment"?1:-1;let n=r[e].value+o;n<0?n=u[e]:n>u[e]&&(n=0),r[e].setValue(n),g()}),s("form#mainform").on("submit",function(i){if(m.val()==="minutes"){const t=parseInt(c.val(),10),e=3*24*60;if(t>e&&confirm('Configurações de vencimento superiores a 3 dias no modo cronômetro podem usar mais recursos. Deseja converter para o modo "Dias" para melhor performance?')){i.preventDefault();const o=Math.ceil(t/(24*60));m.val("days"),c.val(o),setTimeout(()=>s(this).submit(),100)}}})});
//# sourceMappingURL=admin.min.js.map
})();