@import '_countdown.scss';

.paghiper-pix-code {

	cursor: pointer;

	p {

		display: block;
		margin-bottom: 0.5em;
		cursor: pointer;

		button {
			border: unset;
			display: inline-block;
			cursor: pointer;
			padding: .25em .4em;
			font-size: 75%;
			font-weight: 700;
			line-height: 1;
			text-align: center;
			white-space: nowrap;
			vertical-align: baseline;
			border-radius: .25rem;
			transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
	
			color: #fff;
			background-color: #17a2b8;
			text-transform: uppercase;
		}

	}

	.textarea-container {
		background-color: #e2e3e5;
		border: 1px solid #dee2e6 !important;
		padding: .75rem 1.25rem;
		margin-bottom: 1rem;
		border-radius: .25rem;
		cursor: pointer;

		textarea {
			color: #333333;
			width: 100%;
			background: none;
			border: none;
			overflow: hidden;
			pointer-events: none;
			line-break: anywhere;
		}
	}
}

.pix-container {
	display: flex;
	flex-direction: row;
	margin: 2em 0 4em;

	.qr-code {
		flex-grow: 1;
	}

	.instructions {
		display: flex;
		flex-direction: column;
		justify-content: center;
	}
}

.woo_paghiper_digitable_line {

	text-align: center;
	
	ul {
		text-align: left;
		list-style-type: none !important;
		padding: 2em 0 !important;
		margin: 0px !important;
		max-width: 400px;

		li {
			margin-bottom: 1.5em !important;
			padding-left: 65px;
			position: relative;
			line-height: 1.5em;
			min-height: 50px;

			display: flex;
			flex-direction: column;
			justify-content: center;

			&:before {
				content: '';
				position: absolute;
				display: block;
				width: 50px;
				height: 50px;
				border-radius: 40px;
				left: 0px;
				top: 50%;
				transform: translateY(-50%);
				background-size: contain;
				box-shadow: 0 2px 4px rgba(0, 0, 0, .15);
			}

			&:first-child:before { background-image: url('../images/ico_1-app.png'); }
			&:nth-child(2):before { background-image: url('../images/ico_2-qr.png'); }
			&:last-child:before { background-image: url('../images/ico_3-ok.png'); }
		}
	}
}

.woo_paghiper_digitable_line + .woocommerce-message {
	@media only screen and (max-width: 600px) {
		display: flex;
		flex-direction: column;
		text-align: center;

		a.button-primary {
			order: 2;
			margin-top: 20px;
		}
	}
}

.payment_method_paghiper_billet,
.payment_method_paghiper_pix {
	img {
		max-height: 40px;
	}
}

.paghiper-hidden {
	display: none !important;
}

.wc-block-components-form div.paghiper-taxid-fieldset {

	label {
		line-height: 1;
	}

	input[type=text] {

		transition: background 0.15s ease, border 0.15s ease, box-shadow 0.15s ease, color 0.15s ease;
		border: 1px solid #e6e6e6;
		box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.03), 0px 3px 6px rgba(0, 0, 0, 0.02);

		&:focus {
			outline: 0px;
			border-color: hsla(210, 96%, 45%, 50%);
			box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.03), 
				0px 3px 6px rgba(0, 0, 0, 0.02), 
				0 0 0 3px hsla(210, 96%, 45%, 25%), 
				0 1px 1px 0 rgba(0, 0, 0, 0.08);
		}
		&.invalid {
			border-color: #df1b41;
			box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.03), 0px 3px 6px rgba(0, 0, 0, 0.02), 0 0 0 1px #df1b41;
		}
	}

	.wc-block-components-validation-error {
		font-size: 0.93rem;
		color: #df1b41;
	}
}

// New V2 Checkout Styles
.ph-checkout-v2 {
    &__container {
        max-width: 800px;
        margin: 80px auto;
        font-family: 'Atkinson Hyperlegible', sans-serif;

        .paghiper-countdown-wrapper {
            margin-bottom: 80px;
            #paghiper-pix-countdown {
                text-align: center;
            }
        }
    }

    &__main {
        display: flex;
        flex-direction: row;
        margin: 2em 0 4em;
    }

    &__qr-container {
        margin: 0 20px;
		cursor: pointer;
    }

    &__qr-box {
        background: #021e46;
        padding: 7px 7px 10px;
        display: block;
        width: auto;
        border-radius: 13px;
        color: white;
        text-align: center;

        img {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            border-radius: 7px;
            width: 100%;
        }
    }

    &__details {
        flex-grow: 1;
        margin: 0 20px;
        text-align: left;
    }

    &__amount {
        font-family: 'Atkinson Hyperlegible', sans-serif;
        margin: 0;
        font-size: 3rem;
        line-height: 1;
		font-weight: 700;
    }

    &__due-date {
        margin: 0;
        color: #7c7c7c;
        vertical-align: middle;
        line-height: 1.1rem;
        font-size: .85rem;
    }

    &__description {
        font-size: 1rem;
        margin: 20px 0;
        color: #7c7c7c;
        line-height: 1.4;
    }

    &__due-date-timer {
        padding: 2px 6px;
        color: #da7115;
        background: #ffd980;
        font-size: .75rem;
        font-weight: 700;
        vertical-align: middle;
        display: inline-block;
        line-height: .85rem;
        margin: -2px 0 0 6px;
        border-radius: 4px;
    }

    &__button-group {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    &__copy-code-container {
        .textarea-container {
            font-family: 'Atkinson Hyperlegible Mono', monospace;
            font-size: .85rem;
            .digitable_line_container {
                max-width: 520px;
                line-break: anywhere;

                background: white;
                padding: .75rem 1.25rem;
                border: 1px solid #dee2e6;
                border-radius: .25rem;
            }
        }
    }

    &__copy-code-button {
        flex: 1;
        display: block;
        text-transform: none;
        font-size: 1rem;
        font-family: 'Atkinson Hyperlegible', sans-serif;
        padding: 20px;
        background-color: #0860DB;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
		text-align: center;
    }

    &__secondary-button {
        flex: 1;
        display: block;
        text-transform: none;
        font-size: 1rem;
        font-family: 'Atkinson Hyperlegible', sans-serif;
        padding: 20px;
        background-color: #fff;
        color: #7c7c7c;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        text-align: center;
        text-decoration: none;
    }

    &__powered-by {
        color: #7c7c7c;
        font-size: .75rem;
        text-align: center;
        img {
            max-height: 1rem;
            vertical-align: middle;
            margin: 0 0 0 5px;
            filter: saturate(0.0);
            opacity: 0.5;
        }
    }

    &__status-placeholder {
        margin: 0 20px;
        width: 180px;
        min-width: 180px;
        height: 180px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 13px;

        svg {
            width: 80px;
            height: 80px;
        }

        &.completed {
            background-color: #E6F2E8;
            svg {
                color: #28a745;
            }
        }

        &.expired {
            background-color: #FFF0F0;
            svg {
                color: #dc3545;
            }
        }
    }
}
// Reusable Notifications
#ph-reusable-notifications {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.ph-notification {
    padding: 12px 20px;
    border-radius: 8px;
    color: #fff;
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    opacity: 0;
    transform: translateY(20px);
    animation: ph-notification-fade-in 0.3s ease-out forwards;

    .ph-notification-spinner {
        width: 16px;
        height: 16px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: ph-spin 1s ease-in-out infinite;
        display: inline-block;
        margin-right: 10px;
        vertical-align: -3px;
    }

    &.success {
        background-color: #28a745; // Green for success
    }

    &.error {
        background-color: #dc3545; // Red for error
    }
    
    &.info {
        background-color: #17a2b8; // Blue for info
    }

    &.warning {
        background-color: #ffd980;
        color: #da7115;
        .ph-notification-spinner {
            border-top-color: #da7115;
            border-left-color: #da7115;
            border-right-color: #da7115;
        }
    }

    &.fade-out {
        animation: ph-notification-fade-out 0.3s ease-in forwards;
    }
}

@keyframes ph-spin {
    to {
        transform: rotate(360deg);
    }
}

@keyframes ph-notification-fade-in {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes ph-notification-fade-out {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(20px);
    }
}